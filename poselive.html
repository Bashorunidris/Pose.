<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Live Stream Setup</title>
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --red: #FF2D55;
    --red-glow: rgba(255, 45, 85, 0.5);
    --glass: rgba(255,255,255,0.08);
    --glass-border: rgba(255,255,255,0.14);
    --glass-strong: rgba(0,0,0,0.45);
    --text: #fff;
    --muted: rgba(255,255,255,0.55);
    --accent: #FF9500;
    --blue: #0A84FF;
  }

  html, body {
    height: 100%;
    width: 100%;
    overflow: hidden;
    background: #000;
    font-family: 'Sora', sans-serif;
  }

  /* ‚îÄ‚îÄ‚îÄ CONTAINER ‚îÄ‚îÄ‚îÄ */
  #app {
    position: relative;
    width: 100%;
    height: 100%;
    max-width: 430px;
    margin: 0 auto;
    overflow: hidden;
  }

  /* ‚îÄ‚îÄ‚îÄ CAMERA BACKGROUND ‚îÄ‚îÄ‚îÄ */
  #camera-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    background: #111;
    overflow: hidden;
  }

  #camera-video {
    width: 100%; height: 100%;
    object-fit: cover;
    transform: scaleX(-1);
    filter: brightness(0.72) saturate(1.1);
    transition: filter 0.4s ease;
  }

  .camera-off-bg {
    position: absolute; inset: 0;
    background: linear-gradient(160deg, #0f0f1a 0%, #1a0a2e 40%, #0d1a2e 70%, #0a0a0a 100%);
    display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 14px;
  }

  .camera-off-icon {
    width: 80px; height: 80px;
    border-radius: 50%;
    background: rgba(255,255,255,0.06);
    border: 1.5px solid rgba(255,255,255,0.12);
    display: flex; align-items: center; justify-content: center;
    font-size: 32px;
    animation: pulse-soft 3s ease-in-out infinite;
  }

  .camera-off-text { color: var(--muted); font-size: 13px; }

  @keyframes pulse-soft {
    0%,100% { transform: scale(1); opacity: 0.7; }
    50% { transform: scale(1.06); opacity: 1; }
  }

  /* ‚îÄ‚îÄ‚îÄ GRADIENT VIGNETTE OVERLAYS ‚îÄ‚îÄ‚îÄ */
  .vignette-top {
    position: absolute; top: 0; left: 0; right: 0; height: 45%;
    background: linear-gradient(to bottom, rgba(0,0,0,0.82) 0%, rgba(0,0,0,0.3) 60%, transparent 100%);
    z-index: 1; pointer-events: none;
  }

  .vignette-bottom {
    position: absolute; bottom: 0; left: 0; right: 0; height: 48%;
    background: linear-gradient(to top, rgba(0,0,0,0.88) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
    z-index: 1; pointer-events: none;
  }

  /* ‚îÄ‚îÄ‚îÄ GRID NOISE TEXTURE ‚îÄ‚îÄ‚îÄ */
  .noise-overlay {
    position: absolute; inset: 0; z-index: 1; pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-size: 128px;
  }

  /* ‚îÄ‚îÄ‚îÄ MAIN UI OVERLAY ‚îÄ‚îÄ‚îÄ */
  #ui {
    position: absolute; inset: 0; z-index: 2;
    display: flex; flex-direction: column;
    pointer-events: none;
  }

  #ui > * { pointer-events: all; }

  /* ‚îÄ‚îÄ‚îÄ TOP HEADER ‚îÄ‚îÄ‚îÄ */
  #header {
    padding: 52px 18px 14px;
    display: flex; align-items: center; gap: 12px;
  }

  .back-btn {
    width: 38px; height: 38px;
    border-radius: 50%;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(12px);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; flex-shrink: 0;
    transition: background 0.2s, transform 0.15s;
    color: #fff; font-size: 17px;
  }

  .back-btn:hover { background: rgba(255,255,255,0.14); transform: scale(1.05); }
  .back-btn:active { transform: scale(0.93); }

  /* ‚îÄ‚îÄ‚îÄ MODE TABS ‚îÄ‚îÄ‚îÄ */
  #mode-tabs {
    flex: 1;
    display: flex; align-items: center; gap: 6px;
    overflow-x: auto; scrollbar-width: none;
  }
  #mode-tabs::-webkit-scrollbar { display: none; }

  .tab-btn {
    flex-shrink: 0;
    padding: 7px 14px;
    border-radius: 100px;
    border: 1.5px solid var(--glass-border);
    background: var(--glass);
    backdrop-filter: blur(16px);
    color: var(--muted);
    font-family: 'Sora', sans-serif;
    font-size: 12px; font-weight: 500;
    cursor: pointer;
    transition: all 0.25s cubic-bezier(0.34,1.56,0.64,1);
    white-space: nowrap;
  }

  .tab-btn.active {
    background: var(--red);
    border-color: var(--red);
    color: #fff;
    font-weight: 600;
    box-shadow: 0 0 20px var(--red-glow), 0 0 40px rgba(255,45,85,0.2);
    transform: scale(1.05);
  }

  .tab-btn:not(.active):hover {
    background: rgba(255,255,255,0.12);
    color: #fff;
  }

  /* ‚îÄ‚îÄ‚îÄ LIVE INDICATOR DOT ‚îÄ‚îÄ‚îÄ */
  .live-dot {
    display: inline-block; width: 6px; height: 6px;
    border-radius: 50%; background: #fff;
    margin-right: 5px;
    animation: blink 1.1s ease-in-out infinite;
  }

  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }

  /* ‚îÄ‚îÄ‚îÄ TITLE INPUT ‚îÄ‚îÄ‚îÄ */
  #title-section {
    padding: 10px 20px 0;
  }

  .title-wrap {
    position: relative;
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.13);
    border-radius: 16px;
    backdrop-filter: blur(20px);
    overflow: hidden;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  .title-wrap.focused {
    border-color: rgba(255,45,85,0.6);
    box-shadow: 0 0 0 3px rgba(255,45,85,0.12), inset 0 0 20px rgba(255,45,85,0.05);
  }

  .title-label {
    display: flex; align-items: center; gap: 8px;
    padding: 10px 16px 4px;
    font-size: 10px; font-weight: 600; letter-spacing: 0.12em;
    color: var(--muted); text-transform: uppercase;
  }

  .title-label-dot {
    width: 5px; height: 5px; border-radius: 50%;
    background: var(--red);
    box-shadow: 0 0 6px var(--red);
  }

  #stream-title {
    width: 100%; padding: 4px 16px 12px;
    background: transparent; border: none; outline: none;
    color: #fff; font-family: 'Sora', sans-serif;
    font-size: 15px; font-weight: 400;
    caret-color: var(--red);
  }

  #stream-title::placeholder { color: rgba(255,255,255,0.3); }

  .char-count {
    position: absolute; right: 14px; bottom: 10px;
    font-size: 10px; color: var(--muted);
    font-family: 'JetBrains Mono', monospace;
    transition: color 0.3s;
  }

  .char-count.warn { color: var(--accent); }
  .char-count.danger { color: var(--red); }

  /* ‚îÄ‚îÄ‚îÄ SPACER (pushes bottom panel down) ‚îÄ‚îÄ‚îÄ */
  #camera-spacer { flex: 1; pointer-events: none; }

  /* ‚îÄ‚îÄ‚îÄ SIDE CONTROLS ‚îÄ‚îÄ‚îÄ */
  #side-controls {
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 3;
    display: flex; flex-direction: column; gap: 14px;
    pointer-events: all;
  }

  .side-btn {
    width: 46px; height: 46px;
    border-radius: 50%;
    background: var(--glass-strong);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; flex-direction: column; gap: 2px;
    transition: transform 0.2s cubic-bezier(0.34,1.56,0.64,1), background 0.2s;
    color: #fff;
  }

  .side-btn:hover { background: rgba(255,255,255,0.15); transform: scale(1.1); }
  .side-btn:active { transform: scale(0.92); }

  .side-btn svg { width: 20px; height: 20px; }

  .side-btn-label {
    font-size: 8px; font-weight: 500; color: var(--muted);
    text-align: center; line-height: 1;
  }

  .side-btn.beauty-on { background: rgba(255, 100, 180, 0.35); border-color: rgba(255,100,180,0.5); }
  .side-btn.flash-on { background: rgba(255,200,0,0.25); border-color: rgba(255,200,0,0.5); }

  /* ‚îÄ‚îÄ‚îÄ BOTTOM PANEL ‚îÄ‚îÄ‚îÄ */
  #bottom-panel {
    padding: 16px 20px 32px;
    display: flex; flex-direction: column; gap: 16px;
  }

  /* Quick stat row */
  .stats-row {
    display: flex; gap: 10px; justify-content: center;
  }

  .stat-pill {
    display: flex; align-items: center; gap: 6px;
    padding: 6px 12px;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: 100px;
    backdrop-filter: blur(12px);
    font-size: 11px; color: var(--muted);
    cursor: pointer;
    transition: background 0.2s;
  }

  .stat-pill:hover { background: rgba(255,255,255,0.12); color: #fff; }
  .stat-pill .stat-icon { font-size: 13px; }
  .stat-pill strong { color: #fff; font-weight: 600; }

  /* Tool buttons row */
  .tools-row {
    display: flex; justify-content: space-between; align-items: center;
    gap: 10px;
  }

  .tool-btn {
    flex: 1;
    display: flex; flex-direction: column; align-items: center; gap: 6px;
    padding: 12px 6px;
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: 18px;
    backdrop-filter: blur(20px);
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.34,1.56,0.64,1);
    position: relative; overflow: hidden;
  }

  .tool-btn::before {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.06), transparent);
  }

  .tool-btn:hover { background: rgba(255,255,255,0.12); transform: translateY(-2px); }
  .tool-btn:active { transform: scale(0.95) translateY(0); }

  .tool-btn .t-icon {
    width: 40px; height: 40px; border-radius: 14px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px;
  }

  .tool-btn .t-label {
    font-size: 11px; font-weight: 500; color: var(--muted);
    text-align: center;
  }

  .tool-btn.effects .t-icon { background: linear-gradient(135deg, #8B5CF6, #EC4899); }
  .tool-btn.tools .t-icon { background: linear-gradient(135deg, #0A84FF, #30D158); }
  .tool-btn.settings .t-icon { background: linear-gradient(135deg, #FF9500, #FF6B35); }

  /* ‚îÄ‚îÄ‚îÄ GO LIVE BUTTON ‚îÄ‚îÄ‚îÄ */
  .go-live-wrap {
    display: flex; justify-content: center; position: relative;
  }

  #go-live-btn {
    position: relative;
    width: 120px; height: 58px;
    border-radius: 100px;
    background: linear-gradient(135deg, #FF2D55, #FF1744);
    border: none; cursor: pointer;
    color: #fff;
    font-family: 'Sora', sans-serif;
    font-size: 17px; font-weight: 700;
    letter-spacing: 0.02em;
    box-shadow: 0 0 30px var(--red-glow), 0 8px 24px rgba(255,45,85,0.4), inset 0 1px 0 rgba(255,255,255,0.2);
    transition: transform 0.2s cubic-bezier(0.34,1.56,0.64,1), box-shadow 0.2s;
    overflow: hidden;
    display: flex; align-items: center; justify-content: center; gap: 8px;
  }

  #go-live-btn::before {
    content: '';
    position: absolute; top: 0; left: -100%;
    width: 60%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
    animation: shimmer 2.5s ease-in-out infinite;
  }

  @keyframes shimmer { 0%{left:-100%} 100%{left:200%} }

  #go-live-btn:hover {
    transform: scale(1.06);
    box-shadow: 0 0 50px var(--red-glow), 0 12px 32px rgba(255,45,85,0.5);
  }

  #go-live-btn:active { transform: scale(0.96); }

  .live-btn-dot {
    width: 8px; height: 8px; border-radius: 50%; background: #fff;
    animation: blink 1s ease-in-out infinite;
  }

  /* ‚îÄ‚îÄ‚îÄ COUNTDOWN OVERLAY ‚îÄ‚îÄ‚îÄ */
  #countdown-overlay {
    position: absolute; inset: 0; z-index: 100;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(4px);
    display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 20px;
    opacity: 0; pointer-events: none;
    transition: opacity 0.4s;
  }

  #countdown-overlay.visible { opacity: 1; pointer-events: all; }

  .countdown-num {
    font-family: 'Sora', sans-serif;
    font-size: 140px; font-weight: 800;
    color: #fff; line-height: 1;
    text-shadow: 0 0 60px var(--red), 0 0 120px var(--red-glow);
    animation: countPop 0.6s cubic-bezier(0.34,1.56,0.64,1) both;
  }

  @keyframes countPop {
    0% { transform: scale(2); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  .countdown-text {
    font-size: 16px; color: var(--muted); font-weight: 500;
    letter-spacing: 0.15em; text-transform: uppercase;
  }

  /* ‚îÄ‚îÄ‚îÄ PANEL MODALS ‚îÄ‚îÄ‚îÄ */
  .panel-overlay {
    position: absolute; inset: 0; z-index: 50;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(6px);
    display: flex; flex-direction: column; justify-content: flex-end;
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
  }

  .panel-overlay.open { opacity: 1; pointer-events: all; }

  .panel-sheet {
    background: linear-gradient(180deg, rgba(22,22,30,0.98), rgba(10,10,15,0.99));
    border-top: 1px solid rgba(255,255,255,0.1);
    border-radius: 28px 28px 0 0;
    padding: 16px 24px 44px;
    transform: translateY(100%);
    transition: transform 0.4s cubic-bezier(0.22,1,0.36,1);
  }

  .panel-overlay.open .panel-sheet { transform: translateY(0); }

  .panel-handle {
    width: 40px; height: 4px; border-radius: 2px;
    background: rgba(255,255,255,0.2);
    margin: 0 auto 20px;
  }

  .panel-title {
    font-size: 18px; font-weight: 700; color: #fff;
    margin-bottom: 20px;
  }

  .panel-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px;
  }

  .panel-item {
    display: flex; flex-direction: column; align-items: center; gap: 8px;
    cursor: pointer; transition: transform 0.2s;
  }

  .panel-item:active { transform: scale(0.92); }

  .panel-item-icon {
    width: 56px; height: 56px; border-radius: 18px;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px;
    border: 1px solid rgba(255,255,255,0.1);
  }

  .panel-item-label {
    font-size: 10px; font-weight: 500; color: var(--muted);
    text-align: center; line-height: 1.3;
  }

  /* Settings panel rows */
  .settings-row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 0;
    border-bottom: 1px solid rgba(255,255,255,0.07);
  }

  .settings-row:last-child { border-bottom: none; }

  .settings-row-left { display: flex; align-items: center; gap: 12px; }

  .settings-icon {
    width: 36px; height: 36px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px;
  }

  .settings-label { font-size: 14px; font-weight: 500; color: #fff; }
  .settings-sub { font-size: 11px; color: var(--muted); margin-top: 2px; }

  /* Toggle switch */
  .toggle {
    width: 48px; height: 27px;
    border-radius: 100px;
    background: rgba(255,255,255,0.15);
    position: relative; cursor: pointer;
    transition: background 0.3s;
    flex-shrink: 0;
  }

  .toggle.on { background: var(--red); }

  .toggle::after {
    content: '';
    position: absolute; top: 3px; left: 3px;
    width: 21px; height: 21px; border-radius: 50%;
    background: #fff;
    transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
    box-shadow: 0 1px 4px rgba(0,0,0,0.3);
  }

  .toggle.on::after { transform: translateX(21px); }

  /* Privacy selector */
  .privacy-group { display: flex; gap: 8px; }
  .privacy-opt {
    padding: 6px 12px; border-radius: 100px;
    border: 1px solid rgba(255,255,255,0.15);
    font-size: 12px; font-weight: 500; color: var(--muted);
    cursor: pointer; transition: all 0.2s;
    font-family: 'Sora', sans-serif;
    background: transparent;
  }
  .privacy-opt.selected { background: var(--red); border-color: var(--red); color: #fff; }

  /* LIVE badge animation at top right */
  .live-badge {
    position: absolute;
    top: 52px; right: 18px;
    z-index: 3;
    background: var(--red);
    border-radius: 100px;
    padding: 5px 10px;
    display: flex; align-items: center; gap: 5px;
    font-size: 11px; font-weight: 700; color: #fff;
    letter-spacing: 0.05em;
    box-shadow: 0 0 14px var(--red-glow);
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
  }

  .live-badge.visible { opacity: 1; }

  /* Ripple ring around go live btn */
  .ring-anim {
    position: absolute;
    width: 120px; height: 58px; border-radius: 100px;
    border: 2px solid rgba(255,45,85,0.5);
    animation: ringPulse 2s ease-out infinite;
    pointer-events: none;
  }

  .ring-anim:nth-child(2) { animation-delay: 0.8s; }
  .ring-anim:nth-child(3) { animation-delay: 1.6s; }

  @keyframes ringPulse {
    0% { transform: scale(1); opacity: 0.7; }
    100% { transform: scale(1.6); opacity: 0; }
  }

  /* Toast */
  #toast {
    position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);
    z-index: 60;
    background: rgba(30,30,40,0.95);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 100px;
    padding: 10px 20px;
    font-size: 13px; color: #fff;
    white-space: nowrap;
    backdrop-filter: blur(20px);
    opacity: 0;
    transition: opacity 0.3s, transform 0.3s;
    pointer-events: none;
  }

  #toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(-6px);
  }

  /* Effects filter row */
  .filter-scroll {
    display: flex; gap: 10px;
    overflow-x: auto; padding: 4px 0 8px;
    scrollbar-width: none;
  }
  .filter-scroll::-webkit-scrollbar { display: none; }

  .filter-chip {
    flex-shrink: 0;
    width: 70px; height: 70px; border-radius: 16px;
    display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 4px;
    cursor: pointer; border: 2px solid transparent;
    transition: border-color 0.2s, transform 0.2s;
    font-size: 24px; position: relative; overflow: hidden;
  }

  .filter-chip.selected { border-color: var(--red); transform: scale(1.08); }

  .filter-chip-label {
    font-size: 9px; font-weight: 600; color: rgba(255,255,255,0.9);
    position: absolute; bottom: 4px;
  }

  @media (max-height: 700px) {
    #header { padding-top: 36px; }
    .tool-btn { padding: 10px 6px; }
    #go-live-btn { width: 110px; height: 52px; font-size: 15px; }
    .side-btn { width: 40px; height: 40px; }
  }

  @media (min-width: 430px) {
    #app { border-radius: 32px; }
  }
</style>
</head>
<body>
<div id="app">

  <!-- Camera background -->
  <div id="camera-bg">
    <video id="camera-video" autoplay muted playsinline></video>
    <div class="camera-off-bg" id="camera-placeholder">
      <div class="camera-off-icon">üì∑</div>
      <span class="camera-off-text">Camera access needed</span>
    </div>
  </div>

  <div class="noise-overlay"></div>
  <div class="vignette-top"></div>
  <div class="vignette-bottom"></div>

  <!-- LIVE badge -->
  <div class="live-badge" id="live-badge">
    <div class="live-dot"></div>
    LIVE
  </div>

  <!-- Side controls -->
  <div id="side-controls">
    <div class="side-btn" id="flip-btn" title="Flip Camera">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <path d="M20 7l-4-4-4 4M16 3v13a4 4 0 01-4 4H4"/>
        <path d="M4 17l4 4 4-4M8 21V8a4 4 0 014-4h8"/>
      </svg>
    </div>
    <div class="side-btn" id="flash-btn" title="Flash">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
      </svg>
    </div>
    <div class="side-btn" id="beauty-btn" title="Beauty">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <circle cx="12" cy="12" r="3"/>
        <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
      </svg>
    </div>
  </div>

  <!-- Main UI -->
  <div id="ui">
    <!-- Header -->
    <div id="header">
      <button class="back-btn" id="back-btn">‚Üê</button>
      <div id="mode-tabs">
        <button class="tab-btn" data-mode="voice">üéô Voice</button>
        <button class="tab-btn active" data-mode="video"><span class="live-dot"></span>Live Video</button>
        <button class="tab-btn" data-mode="chat">üí¨ Chat</button>
        <button class="tab-btn" data-mode="gaming">üéÆ Gaming</button>
      </div>
    </div>

    <!-- Title input -->
    <div id="title-section">
      <div class="title-wrap" id="title-wrap">
        <div class="title-label">
          <div class="title-label-dot"></div>
          Stream Title
        </div>
        <input
          type="text"
          id="stream-title"
          placeholder="Add a title to your live stream‚Ä¶"
          maxlength="100"
          autocomplete="off"
          spellcheck="false"
        >
        <span class="char-count" id="char-count">0/100</span>
      </div>
    </div>

    <div id="camera-spacer"></div>

    <!-- Bottom panel -->
    <div id="bottom-panel">

      <!-- Stats row -->
      <div class="stats-row">
        <div class="stat-pill" id="privacy-stat">
          <span class="stat-icon">üåç</span>
          <span>Public</span>
        </div>
        <div class="stat-pill">
          <span class="stat-icon">üë•</span>
          <strong>‚Äî</strong>
          <span>viewers</span>
        </div>
        <div class="stat-pill">
          <span class="stat-icon">‚è±</span>
          <strong id="duration-counter">00:00</strong>
        </div>
      </div>

      <!-- Tool buttons -->
      <div class="tools-row">
        <div class="tool-btn effects" id="effects-btn">
          <div class="t-icon">‚ú®</div>
          <span class="t-label">Effects</span>
        </div>
        <div class="tool-btn tools" id="tools-btn">
          <div class="t-icon">üß∞</div>
          <span class="t-label">Box Tools</span>
        </div>
        <div class="tool-btn settings" id="settings-btn">
          <div class="t-icon">‚öôÔ∏è</div>
          <span class="t-label">Settings</span>
        </div>
      </div>

      <!-- Go Live -->
      <div class="go-live-wrap">
        <div class="ring-anim"></div>
        <div class="ring-anim"></div>
        <div class="ring-anim"></div>
        <button id="go-live-btn">
          <div class="live-btn-dot"></div>
          Go Live
        </button>
      </div>

    </div>
  </div>

  <!-- Countdown overlay -->
  <div id="countdown-overlay">
    <div class="countdown-num" id="count-num">3</div>
    <div class="countdown-text">Preparing your stream‚Ä¶</div>
  </div>

  <!-- Toast -->
  <div id="toast"></div>

  <!-- EFFECTS PANEL -->
  <div class="panel-overlay" id="effects-panel">
    <div class="panel-sheet">
      <div class="panel-handle"></div>
      <div class="panel-title">Effects & Filters</div>
      <div class="filter-scroll">
        <div class="filter-chip selected" style="background:linear-gradient(135deg,#1a1a2e,#16213e)">
          <span>üö´</span>
          <span class="filter-chip-label">None</span>
        </div>
        <div class="filter-chip" style="background:linear-gradient(135deg,#ff6b6b,#ee5a24)">
          <span>üî•</span>
          <span class="filter-chip-label">Vivid</span>
        </div>
        <div class="filter-chip" style="background:linear-gradient(135deg,#a8edea,#fed6e3)">
          <span>‚ùÑÔ∏è</span>
          <span class="filter-chip-label">Cool</span>
        </div>
        <div class="filter-chip" style="background:linear-gradient(135deg,#fddb92,#d1fdff)">
          <span>‚òÄÔ∏è</span>
          <span class="filter-chip-label">Warm</span>
        </div>
        <div class="filter-chip" style="background:linear-gradient(135deg,#a18cd1,#fbc2eb)">
          <span>üíú</span>
          <span class="filter-chip-label">Dream</span>
        </div>
        <div class="filter-chip" style="background:linear-gradient(135deg,#333,#666)">
          <span>‚¨õ</span>
          <span class="filter-chip-label">Mono</span>
        </div>
      </div>
      <div style="margin-top:16px;">
        <div class="panel-title" style="font-size:14px;margin-bottom:14px;">Beauty &amp; AR</div>
        <div class="panel-grid">
          <div class="panel-item">
            <div class="panel-item-icon" style="background:linear-gradient(135deg,#f093fb,#f5576c)">üíÑ</div>
            <span class="panel-item-label">Makeup</span>
          </div>
          <div class="panel-item">
            <div class="panel-item-icon" style="background:linear-gradient(135deg,#4facfe,#00f2fe)">‚ú®</div>
            <span class="panel-item-label">Smooth</span>
          </div>
          <div class="panel-item">
            <div class="panel-item-icon" style="background:linear-gradient(135deg,#43e97b,#38f9d7)">üåø</div>
            <span class="panel-item-label">Natural</span>
          </div>
          <div class="panel-item">
            <div class="panel-item-icon" style="background:linear-gradient(135deg,#fa709a,#fee140)">ü¶ã</div>
            <span class="panel-item-label">AR Face</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BOX TOOLS PANEL -->
  <div class="panel-overlay" id="tools-panel">
    <div class="panel-sheet">
      <div class="panel-handle"></div>
      <div class="panel-title">Box Tools</div>
      <div class="panel-grid">
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#1DB954,#0d8f3c)">üéµ</div>
          <span class="panel-item-label">Add Music</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#0A84FF,#0055c8)">üë§</div>
          <span class="panel-item-label">Invite Guest</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#FF9500,#c86f00)">üí∞</div>
          <span class="panel-item-label">Monetize</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#FF2D55,#bf0030)">üéØ</div>
          <span class="panel-item-label">Live Goal</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#5856D6,#3a38a3)">üìä</div>
          <span class="panel-item-label">Polls</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#30D158,#1a8a35)">üéÅ</div>
          <span class="panel-item-label">Gifts</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#64D2FF,#0a84ff)">üì¢</div>
          <span class="panel-item-label">Announce</span>
        </div>
        <div class="panel-item">
          <div class="panel-item-icon" style="background:linear-gradient(135deg,#FF6B35,#c84a15)">üîó</div>
          <span class="panel-item-label">Share Link</span>
        </div>
      </div>
    </div>
  </div>

  <!-- SETTINGS PANEL -->
  <div class="panel-overlay" id="settings-panel">
    <div class="panel-sheet">
      <div class="panel-handle"></div>
      <div class="panel-title">Stream Settings</div>

      <div class="settings-row">
        <div class="settings-row-left">
          <div class="settings-icon" style="background:linear-gradient(135deg,#0A84FF,#005ec4)">üåç</div>
          <div>
            <div class="settings-label">Privacy</div>
            <div class="settings-sub">Who can see your stream</div>
          </div>
        </div>
        <div class="privacy-group">
          <button class="privacy-opt selected" data-priv="Public">Public</button>
          <button class="privacy-opt" data-priv="Friends">Friends</button>
          <button class="privacy-opt" data-priv="Private">Private</button>
        </div>
      </div>

      <div class="settings-row">
        <div class="settings-row-left">
          <div class="settings-icon" style="background:linear-gradient(135deg,#FF9500,#c86f00)">üí¨</div>
          <div>
            <div class="settings-label">Comments</div>
            <div class="settings-sub">Allow viewer comments</div>
          </div>
        </div>
        <div class="toggle on" id="toggle-comments"></div>
      </div>

      <div class="settings-row">
        <div class="settings-row-left">
          <div class="settings-icon" style="background:linear-gradient(135deg,#30D158,#1a8a35)">üíæ</div>
          <div>
            <div class="settings-label">Save Replay</div>
            <div class="settings-sub">Save stream when finished</div>
          </div>
        </div>
        <div class="toggle on" id="toggle-replay"></div>
      </div>

      <div class="settings-row">
        <div class="settings-row-left">
          <div class="settings-icon" style="background:linear-gradient(135deg,#5856D6,#3a38a3)">üì∫</div>
          <div>
            <div class="settings-label">Resolution</div>
            <div class="settings-sub" id="res-label">1080p HD</div>
          </div>
        </div>
        <div class="privacy-group">
          <button class="privacy-opt" data-res="720p">720p</button>
          <button class="privacy-opt selected" data-res="1080p">1080p</button>
        </div>
      </div>

      <div class="settings-row">
        <div class="settings-row-left">
          <div class="settings-icon" style="background:linear-gradient(135deg,#FF2D55,#bf0030)">üîî</div>
          <div>
            <div class="settings-label">Notify Followers</div>
            <div class="settings-sub">Alert your followers</div>
          </div>
        </div>
        <div class="toggle on" id="toggle-notify"></div>
      </div>
    </div>
  </div>

</div>

<script>
  // ‚îÄ‚îÄ‚îÄ CAMERA ‚îÄ‚îÄ‚îÄ
  const video = document.getElementById('camera-video');
  const placeholder = document.getElementById('camera-placeholder');
  let camFacingMode = 'user';

  async function startCamera(mode = 'user') {
    try {
      if (video.srcObject) {
        video.srcObject.getTracks().forEach(t => t.stop());
      }
      const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: mode }, audio: true });
      video.srcObject = stream;
      placeholder.style.display = 'none';
      video.style.display = 'block';
    } catch (e) {
      placeholder.style.display = 'flex';
      video.style.display = 'none';
    }
  }

  startCamera();

  // Flip
  document.getElementById('flip-btn').addEventListener('click', () => {
    camFacingMode = camFacingMode === 'user' ? 'environment' : 'user';
    video.style.transform = camFacingMode === 'user' ? 'scaleX(-1)' : 'scaleX(1)';
    startCamera(camFacingMode);
    showToast(camFacingMode === 'user' ? 'Front camera' : 'Back camera');
  });

  // Flash
  let flashOn = false;
  const flashBtn = document.getElementById('flash-btn');
  flashBtn.addEventListener('click', () => {
    flashOn = !flashOn;
    flashBtn.classList.toggle('flash-on', flashOn);
    showToast(flashOn ? 'Flash on' : 'Flash off');
    if (video.srcObject) {
      const track = video.srcObject.getVideoTracks()[0];
      if (track && track.getCapabilities && track.getCapabilities().torch) {
        track.applyConstraints({ advanced: [{ torch: flashOn }] });
      }
    }
  });

  // Beauty
  let beautyOn = false;
  const beautyBtn = document.getElementById('beauty-btn');
  beautyBtn.addEventListener('click', () => {
    beautyOn = !beautyOn;
    beautyBtn.classList.toggle('beauty-on', beautyOn);
    video.style.filter = beautyOn
      ? 'brightness(0.75) saturate(1.2) contrast(1.05) blur(0.3px)'
      : 'brightness(0.72) saturate(1.1)';
    showToast(beautyOn ? '‚ú® Beauty mode on' : 'Beauty mode off');
  });

  // ‚îÄ‚îÄ‚îÄ MODE TABS ‚îÄ‚îÄ‚îÄ
  const tabs = document.querySelectorAll('.tab-btn');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const mode = tab.dataset.mode;
      const modeLabels = { voice: 'üéô Voice Chat Mode', video: 'üìπ Live Video Mode', chat: 'üí¨ Chat Mode', gaming: 'üéÆ Gaming Mode' };
      showToast(modeLabels[mode]);
    });
  });

  // ‚îÄ‚îÄ‚îÄ TITLE INPUT ‚îÄ‚îÄ‚îÄ
  const titleInput = document.getElementById('stream-title');
  const charCount = document.getElementById('char-count');
  const titleWrap = document.getElementById('title-wrap');

  titleInput.addEventListener('input', () => {
    const len = titleInput.value.length;
    charCount.textContent = `${len}/100`;
    charCount.className = 'char-count' + (len > 90 ? ' danger' : len > 75 ? ' warn' : '');
  });

  titleInput.addEventListener('focus', () => titleWrap.classList.add('focused'));
  titleInput.addEventListener('blur', () => titleWrap.classList.remove('focused'));

  // ‚îÄ‚îÄ‚îÄ PANELS ‚îÄ‚îÄ‚îÄ
  function openPanel(id) {
    document.querySelectorAll('.panel-overlay').forEach(p => p.classList.remove('open'));
    document.getElementById(id).classList.add('open');
  }

  function closeAllPanels() {
    document.querySelectorAll('.panel-overlay').forEach(p => p.classList.remove('open'));
  }

  document.getElementById('effects-btn').addEventListener('click', () => openPanel('effects-panel'));
  document.getElementById('tools-btn').addEventListener('click', () => openPanel('tools-panel'));
  document.getElementById('settings-btn').addEventListener('click', () => openPanel('settings-panel'));

  document.querySelectorAll('.panel-overlay').forEach(panel => {
    panel.addEventListener('click', e => {
      if (e.target === panel) closeAllPanels();
    });
  });

  // ‚îÄ‚îÄ‚îÄ FILTER CHIPS ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll('.filter-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('selected'));
      chip.classList.add('selected');
    });
  });

  // ‚îÄ‚îÄ‚îÄ PRIVACY OPTS ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll('.privacy-opt[data-priv]').forEach(opt => {
    opt.addEventListener('click', () => {
      document.querySelectorAll('.privacy-opt[data-priv]').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
      document.querySelector('#privacy-stat span:last-child').textContent = opt.dataset.priv;
      const icons = { Public: 'üåç', Friends: 'üë•', Private: 'üîí' };
      document.querySelector('#privacy-stat .stat-icon').textContent = icons[opt.dataset.priv];
    });
  });

  document.querySelectorAll('.privacy-opt[data-res]').forEach(opt => {
    opt.addEventListener('click', () => {
      document.querySelectorAll('.privacy-opt[data-res]').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
      document.getElementById('res-label').textContent = opt.dataset.res + (opt.dataset.res === '1080p' ? ' HD' : '');
    });
  });

  // ‚îÄ‚îÄ‚îÄ TOGGLES ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll('.toggle').forEach(tog => {
    tog.addEventListener('click', () => tog.classList.toggle('on'));
  });

  // ‚îÄ‚îÄ‚îÄ BACK BTN ‚îÄ‚îÄ‚îÄ
  document.getElementById('back-btn').addEventListener('click', () => {
    showToast('‚Üê Going back‚Ä¶');
  });

  // ‚îÄ‚îÄ‚îÄ COUNTDOWN + GO LIVE ‚îÄ‚îÄ‚îÄ
  const goLiveBtn = document.getElementById('go-live-btn');
  const countdownOverlay = document.getElementById('countdown-overlay');
  const countNum = document.getElementById('count-num');
  const liveBadge = document.getElementById('live-badge');

  goLiveBtn.addEventListener('click', () => {
    closeAllPanels();
    countdownOverlay.classList.add('visible');
    let count = 3;
    countNum.textContent = count;

    const interval = setInterval(() => {
      count--;
      if (count <= 0) {
        clearInterval(interval);
        countdownOverlay.classList.remove('visible');
        goLive();
      } else {
        // Restart animation
        countNum.style.animation = 'none';
        void countNum.offsetWidth;
        countNum.style.animation = '';
        countNum.textContent = count;
      }
    }, 1000);
  });

  function goLive() {
    liveBadge.classList.add('visible');
    goLiveBtn.innerHTML = '<div class="live-btn-dot"></div> End Live';
    goLiveBtn.style.background = 'linear-gradient(135deg, #222, #333)';
    goLiveBtn.style.boxShadow = 'none';
    showToast('üî¥ You are now LIVE!');

    // Start duration counter
    let secs = 0;
    const counter = document.getElementById('duration-counter');
    setInterval(() => {
      secs++;
      const m = String(Math.floor(secs / 60)).padStart(2,'0');
      const s = String(secs % 60).padStart(2,'0');
      counter.textContent = `${m}:${s}`;
    }, 1000);

    // Simulate viewer count
    let viewers = 0;
    const viewerEl = document.querySelector('.stats-row .stat-pill:nth-child(2) strong');
    setInterval(() => {
      viewers += Math.floor(Math.random() * 5);
      viewerEl.textContent = viewers;
    }, 1800);
  }

  // ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ
  const toast = document.getElementById('toast');
  let toastTimer;
  function showToast(msg) {
    clearTimeout(toastTimer);
    toast.textContent = msg;
    toast.classList.add('show');
    toastTimer = setTimeout(() => toast.classList.remove('show'), 2200);
  }

  // Panel items just show a toast
  document.querySelectorAll('.panel-item').forEach(item => {
    item.addEventListener('click', () => {
      showToast(item.querySelector('.panel-item-label').textContent + ' coming soon');
    });
  });

  // Request camera on load
  window.addEventListener('load', () => {
    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
      placeholder.style.display = 'flex';
    }
  });
</script>
</body>
</html>
